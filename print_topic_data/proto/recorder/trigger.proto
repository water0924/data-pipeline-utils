syntax = "proto2";

package deeproute.recorder;

import "routing/collection_trigger_rule.proto";

// topic: /safety/trigger_request
message TriggerRequest {
  optional string event = 1;
  optional string event_uuid = 2;
  optional string module_name = 3;
  optional uint32 delay_time = 4;
  repeated string sub_events = 5;
}

// topic: /grading/trigger_request
message GradingTriggerRequest {
  optional string scenario_name = 1;
  optional uint32 scenario_id = 2;
  optional uint64 link_id = 3;
  optional deeproute.collection_trigger_rule.CollectionArg collection_arg = 4;
  optional uint32 delay_time = 5; // in seconds, this is the delay time before the trigger is sent
  optional int32 trigger_limit_times = 6; // -1 is unlimit
  optional bool skip_compliance = 7;
}